<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <script>
    const path = window.location.pathname;
    const isRoot = path === "/" || path === "/index" || path === "/not_found";

    // redirect to root with path parameter
    const otherQueryParams = window.location.search;
    let newPath = "/";

    if (otherQueryParams) {
      newPath += otherQueryParams;
    }

    if (!isRoot && otherQueryParams) {
      newPath += "&path=" + path;
    } else if (!isRoot) {
      newPath += "?path=" + path;
    }

    window.location.href = newPath;

    // window.location.href =
    //   "/"
    //    +
    //   (otherQueryParams ? otherQueryParams + "&path=" + path : "?path=" + path)
    //    +
    //   (isRoot ? "" : "&path=" + path);
  </script>
</html>
